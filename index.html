<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PigFood - Aviso de Limpeza</title>
    
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden; /* Evita barras de rolagem */
            font-family: 'Arial', sans-serif;
            background-color: #f0f0f0;
        }

        /* 1. GIF de Fundo (Preenche a tela) */
        #gif-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover; /* Garante que o GIF cubra a tela sem distor√ß√£o */
            z-index: -1; /* Fica atr√°s de todo o conte√∫do */
            opacity: 0.8; /* Suaviza o GIF */
        }

        /* 2. O Aviso de Limpeza (Fixo na parte inferior ~80% vertical) */
        #aviso-limpeza {
            position: fixed;
            /* Posiciona o topo do aviso a 80% da altura da tela (vh) */
            top: 80vh; 
            left: 0;
            width: 100%;
            text-align: center;
            padding: 20px 0;
            
            /* Estilo do bal√£o de aviso */
            background-color: rgba(255, 255, 255, 0.95); /* Fundo branco semi-transparente */
            border-top: 5px solid #ff69b4; /* Borda rosa (cor de porquinho) */
            box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }

        #aviso-limpeza h2 {
            margin: 0;
            color: #333;
            font-size: 2.5em;
            text-shadow: 1px 1px 2px #ccc;
        }
        
        #aviso-limpeza p {
            margin-top: 5px;
            color: #666;
            font-size: 1.2em;
        }

        /* 3. Bot√£o de In√≠cio (Para iniciar a m√∫sica) */
        #start-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 15px 30px;
            font-size: 1.5em;
            cursor: pointer;
            background-color: #ff69b4;
            color: white;
            border: none;
            border-radius: 10px;
            z-index: 20;
        }
    </style>
</head>
<body>

    <audio id="audio-player" loop>
        <source src="sua_musica.mp3" type="audio/mp3">
        Seu navegador n√£o suporta o elemento de √°udio.
    </audio>

    <img id="gif-background" src="seu_gif.gif" alt="GIF do Bicho de Estima√ß√£o">

    <div id="aviso-limpeza">
        <h2>Aguardando Carregamento...</h2>
        <p></p>
    </div>

    <button id="start-button">Tocar M√∫sica e Iniciar App</button>


    <script>
        // O JSON com os dados dos bichos
        const ANIMAIS_DATA = [
            { "nome": "Nissa", "apelido": null, "adocao": "2018-06-30", "nascimento": null, "falecimento": "2025-04-30", "casinha": null },
            { "nome": "Vivien", "apelido": "Vivi", "adocao": "2018-08-30", "nascimento": null, "falecimento": "2019-09-19", "casinha": null },
            { "nome": "Liliana", "apelido": "Lili", "adocao": "2019-09-21", "nascimento": null, "falecimento": "2025-08-14", "casinha": null },
            { "nome": "Chandra", "apelido": "Chanchan", "adocao": "2019-09-22", "nascimento": null, "falecimento": "2022-06-28", "casinha": null },
            { "nome": "Jace", "apelido": "JJ", "adocao": "2020-11-28", "nascimento": "2020-09-04", "falecimento": null, "casinha": 3 },
            { "nome": "Gideon", "apelido": "Guigui", "adocao": "2021-10-23", "nascimento": "2021-08-23", "falecimento": null, "casinha": 1 },
            { "nome": "Jaya", "apelido": "Jaja", "adocao": "2021-10-23", "nascimento": "2021-06-23", "falecimento": null, "casinha": 2 },
            { "nome": "Will", "apelido": "Xixi", "adocao": null, "nascimento": "2021-12-29", "falecimento": null, "casinha": 1 },
            { "nome": "Rowan", "apelido": "Coc√¥", "adocao": null, "nascimento": "2021-12-29", "falecimento": null, "casinha": 2 }
        ];

        // --- Fun√ß√µes Principais de L√≥gica ---

        /**
         * Calcula o n√∫mero do dia do ano (1 a 366).
         * @returns {number} O dia do ano.
         */
        function getDayOfYear() {
            const now = new Date();
            const start = new Date(now.getFullYear(), 0, 0); // Primeiro dia do ano
            const diff = now - start; // Diferen√ßa em milissegundos
            const oneDay = 1000 * 60 * 60 * 24; // Milissegundos em um dia
            
            // Retorna a diferen√ßa em dias, arredondando para baixo e somando 1
            return Math.floor(diff / oneDay);
        }

        /**
         * Determina o aviso de limpeza de hoje com base na paridade do dia do ano.
         * @returns {{casinhas: string, bichos: string}} As informa√ß√µes para exibir.
         */
        function getCleaningWarning() {
            const dayOfYear = getDayOfYear();
            const isEven = dayOfYear % 2 === 0;

            let casinhasToClean = "";
            let casinhasNumber = 0;

            if (isEven) {
                // Dia PAR: Casinha 1 (Grupo A)
                casinhasToClean = "Casinha 1";
                casinhasNumber = 1;
            } else {
                // Dia √çMPAR: Casinhas 2 e 3 (Grupo B)
                casinhasToClean = "Casinhas 2 e 3";
                casinhasNumber = [2, 3];
            }

            // Filtra os bichos vivos que pertencem √†s casinhas selecionadas
            const bichosToClean = ANIMAIS_DATA
                .filter(animal => 
                    animal.falecimento === null && 
                    (Array.isArray(casinhasNumber) ? casinhasNumber.includes(animal.casinha) : animal.casinha === casinhasNumber)
                )
                .map(animal => animal.nome + (animal.apelido ? ` (${animal.apelido})` : ''))
                .join(', ');

            return {
                casinhas: casinhasToClean,
                bichos: bichosToClean
            };
        }

        /**
         * Atualiza o elemento de aviso na tela.
         */
        function updateDisplay() {
            const warningElement = document.getElementById('aviso-limpeza');
            const h2 = warningElement.querySelector('h2');
            const p = warningElement.querySelector('p');

            const warning = getCleaningWarning();

            h2.textContent = `üßπ √â dia de limpar ${warning.casinhas}!`;
            p.textContent = `Animais: ${warning.bichos}`;
        }
        
        // --- Fun√ß√£o de Inicializa√ß√£o (Inicia M√∫sica e Exibe Conte√∫do) ---

        function initApp() {
            const audioPlayer = document.getElementById('audio-player');
            const startButton = document.getElementById('start-button');
            
            // Tenta tocar a m√∫sica (pode falhar sem intera√ß√£o do usu√°rio)
            audioPlayer.play().catch(error => {
                console.log("√Åudio bloqueado pelo navegador. √â necess√°rio um clique.");
                // Se falhar, exibe o bot√£o
                startButton.style.display = 'block';
            });
            
            updateDisplay();
        }
        
        // --- Evento de Clique para iniciar √Åudio (se necess√°rio) ---

        document.getElementById('start-button').addEventListener('click', () => {
            const audioPlayer = document.getElementById('audio-player');
            const startButton = document.getElementById('start-button');
            
            audioPlayer.play();
            startButton.style.display = 'none'; // Esconde o bot√£o ap√≥s o play
        });

        // Inicia o aplicativo quando a p√°gina √© carregada
        document.addEventListener('DOMContentLoaded', () => {
            // Esconde o bot√£o por padr√£o; ele s√≥ ser√° mostrado se o autoplay falhar
            document.getElementById('start-button').style.display = 'none';
            
            // Configura a l√≥gica de aviso e tenta iniciar a m√∫sica
            initApp();
        });
        
    </script>
</body>
</html>
